(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{386:function(e,t,n){"use strict";n.r(t);var l=n(106),r={data:function(){return{user:{},myName:"Xayrullo",newmessage:null,typing:!1,info:[],online:[]}},watch:{newmessage:function(e){e?l.a.emit("typing"):l.a.emit("stoptyping")}},mounted:function(){var e=this;window.onbeforeunload=function(){e.user.online=!1,l.a.emit("leaved",e.user)},document.getElementById("input-message").focus()},created:function(){var e=this;this.user=JSON.parse(localStorage.getItem(this.$storageName.USER)),l.a.on("user-message",(function(data){e.user.id===data.id&&e.user.messages.push({message:data.newmessage,type:1})})),l.a.on("typing",(function(){e.typing=!0})),l.a.on("stoptyping",(function(){e.typing=!1}))},methods:{sendMessage:function(){var e={id:this.user.id,newmessage:this.newmessage,type:0};this.user.messages.push({message:this.newmessage,type:0}),l.a.emit("user-message",e),this.newmessage=null},isTyping:function(){l.a.emit("typing",this.myName)},focusNext:function(e){document.getElementById(e).focus()}}},o=n(63),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex flex-row h-screen antialiased text-gray-800"},[n("div",{staticClass:"flex flex-col h-screen w-full bg-white px-4 py-6"},[n("div",{staticClass:"flex flex-row items-center py-4 px-6 rounded-2xl shadow"},[e.user.image?n("img",{staticClass:"h-10 w-10 rounded-full",attrs:{src:e.user.image}}):n("span",[e._v("T")]),e._v(" "),n("div",{staticClass:"flex flex-col ml-3"},[n("div",{staticClass:"font-semibold text-sm"},[e._v("\n            "+e._s(e.user.username)+"\n          ")]),e._v(" "),e.typing?n("div",{staticClass:"text-xs text-gray-500"},[e._v("\n            User is typing\n          ")]):e._e()]),e._v(" "),n("div",{staticClass:"ml-auto"},[n("ul",{staticClass:"flex flex-row items-center space-x-2"},[n("li",[n("a",{staticClass:"flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-400 h-10 w-10 rounded-full",attrs:{href:"#"}},[n("font-awesome-icon",{attrs:{icon:"phone-alt"}})],1)]),e._v(" "),n("li",[n("a",{staticClass:"flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-400 h-10 w-10 rounded-full",attrs:{href:"#"}},[n("font-awesome-icon",{attrs:{icon:"video"}})],1)]),e._v(" "),n("li",[n("a",{staticClass:"flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-400 h-10 w-10 rounded-full",attrs:{href:"#"}},[n("font-awesome-icon",{attrs:{icon:"ellipsis-v"}})],1)])])])]),e._v(" "),n("div",{staticClass:"h-screen overflow-hidden py-4"},[n("div",{staticClass:"h-screen overflow-y-auto"},[n("div",{},e._l(e.user.messages,(function(t,l){return n("div",{key:l,class:t?"col-start-1 col-end-8 p-3 rounded-lg":"col-start-6 col-end-13 p-3 rounded-lg"},[1==t.type?n("div",{staticClass:"chat-message"},[n("div",{staticClass:"flex items-end"},[n("div",{staticClass:"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-2 items-start"},[n("div",[n("span",{staticClass:"px-4 py-2 rounded-lg inline-block rounded-bl-none bg-gray-300 text-gray-600"},[e._v(e._s(t.message))])])]),e._v(" "),n("img",{staticClass:"w-6 h-6 rounded-full order-1",attrs:{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixqx=t5EIL2Dil9&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"My profile"}})])]):e._e(),e._v(" "),0==t.type?n("div",{staticClass:"chat-message"},[n("div",{staticClass:"flex items-end justify-end"},[n("div",{staticClass:"flex flex-col space-y-2 text-xs max-w-xs mx-2 order-1 items-end"},[n("div",[n("span",{staticClass:"px-4 py-2 rounded-lg inline-block rounded-br-none bg-blue-600 text-white "},[e._v(e._s(t.message))])])]),e._v(" "),n("img",{staticClass:"w-6 h-6 rounded-full order-1",attrs:{src:e.user.image}})])]):e._e()])})),0)])]),e._v(" "),n("div",{staticClass:"flex flex-row items-center"},[n("div",{staticClass:"flex flex-row items-center w-full border rounded-3xl h-12 px-2"},[n("button",{staticClass:"flex items-center justify-center h-10 w-10 text-gray-400 ml-1"},[n("font-awesome-icon",{attrs:{icon:"microphone"}})],1),e._v(" "),n("div",{staticClass:"w-full"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newmessage,expression:"newmessage"}],staticClass:"border border-transparent w-full focus:outline-none text-sm h-10 flex items-center",attrs:{id:"input-message",type:"text",placeholder:"Type your message...."},domProps:{value:e.newmessage},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},input:function(t){t.target.composing||(e.newmessage=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"flex flex-row"},[n("button",{staticClass:"flex items-center justify-center h-10 w-8 text-gray-400"},[n("font-awesome-icon",{attrs:{icon:"paperclip"}})],1),e._v(" "),n("button",{staticClass:"flex items-center justify-center h-10 w-8 text-gray-400 ml-1 mr-2"},[n("font-awesome-icon",{attrs:{icon:"image"}})],1)])]),e._v(" "),n("div",{staticClass:"ml-6"},[n("button",{staticClass:"flex items-center justify-center h-10 w-10 rounded-full bg-blue-400 hover:bg-blue-500  text-white",attrs:{id:"send-message"},on:{click:e.sendMessage}},[n("font-awesome-icon",{attrs:{icon:"paper-plane"}})],1)])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);